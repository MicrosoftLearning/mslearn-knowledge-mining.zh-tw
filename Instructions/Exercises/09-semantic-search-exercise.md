---
lab:
  title: 設定語意排名工具
---

# 設定語意排名工具

> **注意** 若要完成此實驗室，您需要一個具備[系統管理存取權](https://azure.microsoft.com/free?azure-portal=true)的 Azure 訂用帳戶。 此外也需要具有計費層的 **Azure AI 搜尋**服務，才能進行此練習。

在此練習中，您會將語意排名工具新增至索引，並使用語意排名工具進行查詢。

## 啟用語意排名工具

1. 開啟 Azure 入口網站並登入。
1. 選取 **[所有資源]**，然後選取您的搜尋服務。
1. 在功能窗格中，選取 [語意排名工具]****。
1. 在 [可用性]**** 的 [免費]**** 選項中，選取 [選取方案]****。

![語意排名工具對話方塊的螢幕擷取畫面。](../media/semantic-search/semanticsearch.png)

## 匯入範例索引

1. 返回搜尋服務的 [概觀]**** 頁面。
1. 選取 [匯入資料]。****

    ![[匯入資料] 按鈕的螢幕擷取畫面。](../media/semantic-search/importdata.png)

1. 在 [資料來源]**** 中，選取 [範例]****。
1. 選取 [hotels-sample]****，然後選取 **[下一步：新增認知技能 (選擇性)]**。
1. 選取 **[跳至：自訂目標索引]**。
1. 選取**下一步：建立索引子**。
1. 選取 [提交]****。

## 設定語意排名

搜尋索引和語意排名工具啟用後，您可以設定語意排名。 您必須要有搜尋用戶端可支援查詢要求上的預覽 API。 您可以在 Azure 入口網站、Postman 應用程式、Azure SDK for .NET 或 Azure SDK for Python 中使用搜尋總管。 在此練習中，您會在 Azure 入口網站中使用搜尋總管。

若要設定語意排名，請遵循下列步驟：

1. 在瀏覽列的 **[搜尋管理]** 中，選取 **[索引]**。

    ![[索引] 按鈕的螢幕擷取畫面。](../media/semantic-search/indexes.png)

1. 選取您的索引。
1. 選取 **[語意設定]**，然後選取 **[新增語意設定]**。
1. 在 [名稱]**** 中，輸入 **hotels-conf**。
1. 在 [標題欄位]**** 中，選取 [HotelName]****。
1. 在 [內容欄位]**** 底下的 [欄位名稱]**** 中，選取 [描述]****。
1. 針對下列欄位重複前述步驟：
    - **類別**
    - **地址/城市**
1. 在 [關鍵字欄位]**** 底下的 [欄位名稱]**** 中，選取 [標籤]****。
1. 選取 [儲存]。
1. 在您的索引頁上，選取 **[儲存]**。
1. 選取 [搜尋總管]****。
1. 選取 [檢視]****，然後選取 [JSON 檢視]****。
1. 在 JSON 查詢編輯器中，輸入下列文字：

    ```json
        {
         "queryType": "semantic",
         "queryLanguage" : "en-us",
         "search": "all hotels near the water" , 
         "semanticConfiguration": "hotels-conf" , 
         "searchFields": "",
         "speller": "lexicon" , 
         "answers": "extractive|count-3",
         "count": true
        }
    ```

1. 選取**搜尋**。
1. 檢閱查詢的結果。

## 清理

如果您不再需要 Azure AI 搜尋服務，您應從 Azure 訂用帳戶中刪除資源，以降低成本。

>**注意**：刪除 Azure AI 搜尋服務可確保您的訂用帳戶無須支付資源的費用。 不過，只要您的訂用帳戶中具有儲存體，您就必須為資料儲存支付少許費用。 若已完成認知搜尋服務的探索，您可以刪除認知搜尋服務和相關聯的資源。 但是，如果您打算完成本系列中的任何其他實驗室，您將需要重新建立 Azure Machine Learning 工作區。
> 若要刪除您的資源：
> 1. 在 [Azure 入口網站](https://portal.azure.com?azure-portal=true )的 [資源群組]**** 頁面中，開啟您在建立認知搜尋服務時所指定的資源群組。
> 1. 按一下 [刪除資源群組]****、輸入資源群組名稱以確認要刪除，然後選取 [刪除]****。
